---
import ArticleSchema from "../components/ArticleSchema.astro";
import Date from "../components/utility/DateFormat.astro";

import Layout from "./Base.astro";
import SideLeftPage from "../components/SideLeftPage.astro";
import SideRightBlank from "../components/SideRightBlank.astro";
import Header from "../components/Header.astro";
import Tags from "../components/Tags.astro";
import Footer from "../components/Footer.astro";

const { seo } = Astro.props;
const { post } = Astro.props;
---

<script src="../scripts/emailDecode.js"></script>

<Layout {seo}>
    <Fragment slot="head-bottom">
        <ArticleSchema {post} />
    </Fragment>
    <Header slot="header" />
    <SideLeftPage slot="side-left" />
    <article class="post-content__article">
        <h1>{post.data.title}</h1>
        <div class="post-info">
            <Tags tags={post.data.tags} /><Date date={post.data.pubDate} /><br
            />
            <a id="denc" href="">tjex@tjex.net</a>
        </div>
        <div class="post-info">
            {
                post.data.progVersions ? (
                    <>
                        <span>Versions used:</span>

                        {post.data.progVersions.map((v: any) => (
                            <span class="tag">{v}</span>
                        ))}
                    </>
                ) : null
            }
        </div>

        <slot />
    </article>
    <p xmlns:cc="http://creativecommons.org/ns#" style="font-size: 0.8rem">
        Licensed under <a
            href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1"
            target="_blank"
            rel="license noopener noreferrer"
            >CC BY 4.0</a>
    </p>
    <SideRightBlank slot="side-right" />
    <Footer slot="footer" />
</Layout>
