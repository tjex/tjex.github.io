---
title: Directory picker widget
description: Pick a directory with fzf and paste it into the current shell prompt.
pubDate: 2023-11-06T18:56:44Z 
author: tjex
tags: ['fzf', 'shell']
draft: true
---

```zsh
# use fzf to search for dirs and paste them inplace, in the current prompt
fzf_dir() {
    cmd=$(fd . --type d | fzf --preview 'tree -C {} | head -200')
    LBUFFER="${LBUFFER}${(q)cmd}"
    local ret=$?
    zle reset-prompt
    return $ret
}

# export the directory as a widget to use in keybinds
zle -N fzf_dir
```
